:80, :443 {
    root * /app/public

    # ① 先尝试静态文件
    file_server

    # ② 其余全部交给 index.php（包含 path-info）
    @notStatic {
        not file {path}
    }
    handle @notStatic {
        rewrite * /index.php?{query}&s={path}
    }

    # ③ 让 FrankenPHP 处理 *.php 和 path-info
    php_server {
        # 告诉 FrankenPHP 支持 PATH_INFO
        env PATH_INFO {path}
    }
}